<?xml version="1.0"?>
<ruleset name="Laravel PHPMD Ruleset">
    <description>Custom PHPMD ruleset tuned for Laravel application patterns.</description>

    <exclude-pattern>.*/vendor/.*</exclude-pattern>
    <exclude-pattern>.*/storage/.*</exclude-pattern>
    <exclude-pattern>.*/bootstrap/cache/.*</exclude-pattern>

    <rule ref="rulesets/cleancode.xml">
        <exclude name="StaticAccess"/>
    </rule>
    <rule ref="rulesets/cleancode.xml/StaticAccess">
        <properties>
            <property name="exceptions"
                      value="Illuminate\Support\Facades\App,Illuminate\Support\Facades\Artisan,Illuminate\Support\Facades\Auth,Illuminate\Support\Facades\Blade,Illuminate\Support\Facades\Broadcast,Illuminate\Support\Facades\Bus,Illuminate\Support\Facades\Cache,Illuminate\Support\Facades\Config,Illuminate\Support\Facades\Cookie,Illuminate\Support\Facades\Crypt,Illuminate\Support\Facades\Date,Illuminate\Support\Facades\DB,Illuminate\Support\Facades\Event,Illuminate\Support\Facades\File,Illuminate\Support\Facades\Gate,Illuminate\Support\Facades\Hash,Illuminate\Support\Facades\Http,Illuminate\Support\Facades\Lang,Illuminate\Support\Facades\Log,Illuminate\Support\Facades\Mail,Illuminate\Support\Facades\Notification,Illuminate\Support\Facades\Password,Illuminate\Support\Facades\Queue,Illuminate\Support\Facades\RateLimiter,Illuminate\Support\Facades\Redirect,Illuminate\Support\Facades\Redis,Illuminate\Support\Facades\Request,Illuminate\Support\Facades\Response,Illuminate\Support\Facades\Route,Illuminate\Support\Facades\Schema,Illuminate\Support\Facades\Session,Illuminate\Support\Facades\Storage,Illuminate\Support\Facades\URL,Illuminate\Support\Facades\Validator,Illuminate\Support\Facades\View,Illuminate\Pagination\Paginator,Illuminate\Support\Str,Illuminate\Support\Arr,App\Models\User,App\Models\Region,App\Models\Candidate,App\Models\PollingStation"/>
            <property name="ignorepattern" value="/^(boot|up|down|definition)$/"/>
        </properties>
    </rule>

    <rule ref="rulesets/codesize.xml"/>
    <rule ref="rulesets/controversial.xml"/>
    <rule ref="rulesets/design.xml"/>

    <rule ref="rulesets/naming.xml">
        <exclude name="ShortVariable"/>
    </rule>
    <rule ref="rulesets/naming.xml/ShortVariable">
        <properties>
            <property name="minimum" value="3"/>
            <property name="exceptions" value="id,db,ip,ui,fs,x,y,i,j,k,e"/>
        </properties>
    </rule>

    <rule ref="rulesets/unusedcode.xml">
        <exclude name="UnusedFormalParameter"/>
    </rule>
</ruleset>
